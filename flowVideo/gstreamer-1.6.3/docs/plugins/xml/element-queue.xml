<?xml version="1.0" ?><!DOCTYPE refentry  PUBLIC '-//OASIS//DTD DocBook XML V4.1.2//EN'  'http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd' [
<!ENTITY % version-entities SYSTEM "version.entities">
%version-entities;
]><refentry id="gstreamer-plugins-queue">
<refmeta>
<refentrytitle id="gstreamer-plugins-queue.top_of_page" role="top_of_page">queue</refentrytitle>
<manvolnum>3</manvolnum>
<refmiscinfo>GSTREAMER-PLUGINS Library</refmiscinfo>
</refmeta>
<refnamediv>
<refname>queue</refname>
<refpurpose/>
</refnamediv>

<refsect1 id="gstreamer-plugins-queue.properties" role="properties">
<title role="properties.title">Properties</title>
<informaltable frame="none">
<tgroup cols="3">
<colspec colname="properties_type" colwidth="150px"/>
<colspec colname="properties_name" colwidth="300px"/>
<colspec colname="properties_flags" colwidth="200px"/>
<tbody>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--current-level-buffers">current-level-buffers</link></entry><entry role="property_flags">Read</entry></row>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--current-level-bytes">current-level-bytes</link></entry><entry role="property_flags">Read</entry></row>
<row><entry role="property_type"><link linkend="guint64"><type>guint64</type></link></entry><entry role="property_name"><link linkend="GstQueue--current-level-time">current-level-time</link></entry><entry role="property_flags">Read</entry></row>
<row><entry role="property_type"><link linkend="gboolean"><type>gboolean</type></link></entry><entry role="property_name"><link linkend="GstQueue--flush-on-eos">flush-on-eos</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="GstQueueLeaky"><type>GstQueueLeaky</type></link></entry><entry role="property_name"><link linkend="GstQueue--leaky">leaky</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--max-size-buffers">max-size-buffers</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--max-size-bytes">max-size-bytes</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint64"><type>guint64</type></link></entry><entry role="property_name"><link linkend="GstQueue--max-size-time">max-size-time</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--min-threshold-buffers">min-threshold-buffers</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint"><type>guint</type></link></entry><entry role="property_name"><link linkend="GstQueue--min-threshold-bytes">min-threshold-bytes</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="guint64"><type>guint64</type></link></entry><entry role="property_name"><link linkend="GstQueue--min-threshold-time">min-threshold-time</link></entry><entry role="property_flags">Read / Write</entry></row>
<row><entry role="property_type"><link linkend="gboolean"><type>gboolean</type></link></entry><entry role="property_name"><link linkend="GstQueue--silent">silent</link></entry><entry role="property_flags">Read / Write</entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<refsect1 id="gstreamer-plugins-queue.signals" role="signal_proto">
<title role="signal_proto.title">Signals</title>
<informaltable frame="none">
<tgroup cols="3">
<colspec colname="signals_return" colwidth="150px"/>
<colspec colname="signals_name" colwidth="300px"/>
<colspec colname="signals_flags" colwidth="200px"/>
<tbody>
<row><entry role="signal_type"><link linkend="void"><returnvalue>void</returnvalue></link></entry><entry role="signal_name"><link linkend="GstQueue-overrun">overrun</link></entry><entry role="signal_flags"><link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></entry></row>
<row><entry role="signal_type"><link linkend="void"><returnvalue>void</returnvalue></link></entry><entry role="signal_name"><link linkend="GstQueue-pushing">pushing</link></entry><entry role="signal_flags"><link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></entry></row>
<row><entry role="signal_type"><link linkend="void"><returnvalue>void</returnvalue></link></entry><entry role="signal_name"><link linkend="GstQueue-running">running</link></entry><entry role="signal_flags"><link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></entry></row>
<row><entry role="signal_type"><link linkend="void"><returnvalue>void</returnvalue></link></entry><entry role="signal_name"><link linkend="GstQueue-underrun">underrun</link></entry><entry role="signal_flags"><link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<anchor id="GstQueue"/><refsect1 id="gstreamer-plugins-queue.other" role="other_proto">
<title role="other_proto.title">Types and Values</title>
<informaltable frame="none" pgwide="1" role="enum_members_table">
<tgroup cols="2">
<colspec colname="name" colwidth="150px"/>
<colspec colname="description"/>
<tbody>
<row><entry role="datatype_keyword">struct</entry><entry role="function_name"><link linkend="GstQueue-struct">GstQueue</link></entry></row>
<row><entry role="datatype_keyword">enum</entry><entry role="function_name"><link linkend="GstQueueLeaky">GstQueueLeaky</link></entry></row>

</tbody>
</tgroup>
</informaltable>
</refsect1>
<refsect1 id="gstreamer-plugins-queue.object-hierarchy" role="object_hierarchy">
<title role="object_hierarchy.title">Object Hierarchy</title>
<screen>    <link linkend="GObject">GObject</link>
    <phrase role="lineart">╰──</phrase> <link linkend="GInitiallyUnowned">GInitiallyUnowned</link>
        <phrase role="lineart">╰──</phrase> <link linkend="GstObject">GstObject</link>
            <phrase role="lineart">╰──</phrase> <link linkend="GstElement">GstElement</link>
                <phrase role="lineart">╰──</phrase> GstQueue
</screen>
</refsect1>


<refsect1 id="gstreamer-plugins-queue.description" role="desc">
<title role="desc.title">Description</title>
<para>Data is queued until one of the limits specified by the
<link linkend="GstQueue--max-size-buffers"><type>“max-size-buffers”</type></link>, <link linkend="GstQueue--max-size-bytes"><type>“max-size-bytes”</type></link> and/or
<link linkend="GstQueue--max-size-time"><type>“max-size-time”</type></link> properties has been reached. Any attempt to push
more buffers into the queue will block the pushing thread until more space
becomes available.</para>
<para>The queue will create a new thread on the source pad to decouple the
processing on sink and source pad.</para>
<para>You can query how many buffers are queued by reading the
<link linkend="GstQueue--current-level-buffers"><type>“current-level-buffers”</type></link> property. You can track changes
by connecting to the notify::current-level-buffers signal (which
like all signals will be emitted from the streaming thread). The same
applies to the <link linkend="GstQueue--current-level-time"><type>“current-level-time”</type></link> and
<link linkend="GstQueue--current-level-bytes"><type>“current-level-bytes”</type></link> properties.</para>
<para>The default queue size limits are 200 buffers, 10MB of data, or
one second worth of data, whichever is reached first.</para>
<para>As said earlier, the queue blocks by default when one of the specified
maximums (bytes, time, buffers) has been reached. You can set the
<link linkend="GstQueue--leaky"><type>“leaky”</type></link> property to specify that instead of blocking it should
leak (drop) new or old buffers.</para>
<para>The <link linkend="GstQueue-underrun"><type>“underrun”</type></link> signal is emitted when the queue has less data than
the specified minimum thresholds require (by default: when the queue is
empty). The <link linkend="GstQueue-overrun"><type>“overrun”</type></link> signal is emitted when the queue is filled
up. Both signals are emitted from the context of the streaming thread.</para>

<include href="element-queue-details.xml" xmlns="http://www.w3.org/2003/XInclude"><fallback xmlns="http://www.w3.org/2003/XInclude"/></include></refsect1>
<refsect1 id="gstreamer-plugins-queue.functions_details" role="details">
<title role="details.title">Functions</title>
<para/>
</refsect1>
<refsect1 id="gstreamer-plugins-queue.other_details" role="details">
<title role="details.title">Types and Values</title>
<refsect2 id="GstQueue-struct" role="struct">
<title>struct GstQueue</title>
<indexterm zone="GstQueue-struct"><primary>GstQueue</primary></indexterm>
<programlisting language="C">struct GstQueue;</programlisting>
<para>Opaque <link linkend="GstQueue"><type>GstQueue</type></link> structure.</para>
</refsect2>
<refsect2 id="GstQueueLeaky" role="enum">
<title>enum GstQueueLeaky</title>
<indexterm zone="GstQueueLeaky"><primary>GstQueueLeaky</primary></indexterm>
<para>Buffer dropping scheme to avoid the queue to block when full.</para>
<refsect3 id="GstQueueLeaky.members" role="enum_members">
<title>Members</title>
<informaltable frame="none" pgwide="1" role="enum_members_table">
<tgroup cols="3">
<colspec colname="enum_members_name" colwidth="300px"/>
<colspec colname="enum_members_description"/>
<colspec colname="enum_members_annotations" colwidth="200px"/>
<tbody>
<row role="constant"><entry role="enum_member_name"><para id="GST-QUEUE-NO-LEAK:CAPS">GST_QUEUE_NO_LEAK</para></entry>
<entry role="enum_member_description"><para>Not Leaky</para>
</entry>
<entry role="enum_member_annotations"/>
</row>
<row role="constant"><entry role="enum_member_name"><para id="GST-QUEUE-LEAK-UPSTREAM:CAPS">GST_QUEUE_LEAK_UPSTREAM</para></entry>
<entry role="enum_member_description"><para>Leaky on upstream (new buffers)</para>
</entry>
<entry role="enum_member_annotations"/>
</row>
<row role="constant"><entry role="enum_member_name"><para id="GST-QUEUE-LEAK-DOWNSTREAM:CAPS">GST_QUEUE_LEAK_DOWNSTREAM</para></entry>
<entry role="enum_member_description"><para>Leaky on downstream (old buffers)</para>
</entry>
<entry role="enum_member_annotations"/>
</row>
</tbody></tgroup></informaltable>
</refsect3></refsect2>

</refsect1>
<refsect1 id="gstreamer-plugins-queue.property-details" role="property_details">
<title role="property_details.title">Property Details</title>
<refsect2 id="GstQueue--current-level-buffers" role="property"><title>The <literal>“current-level-buffers”</literal> property</title>
<indexterm zone="GstQueue--current-level-buffers"><primary>GstQueue:current-level-buffers</primary></indexterm>
<programlisting>  “current-level-buffers”    <link linkend="guint"><type>guint</type></link></programlisting>
<para>Current number of buffers in the queue.</para><para>Flags: Read</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--current-level-bytes" role="property"><title>The <literal>“current-level-bytes”</literal> property</title>
<indexterm zone="GstQueue--current-level-bytes"><primary>GstQueue:current-level-bytes</primary></indexterm>
<programlisting>  “current-level-bytes”      <link linkend="guint"><type>guint</type></link></programlisting>
<para>Current amount of data in the queue (bytes).</para><para>Flags: Read</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--current-level-time" role="property"><title>The <literal>“current-level-time”</literal> property</title>
<indexterm zone="GstQueue--current-level-time"><primary>GstQueue:current-level-time</primary></indexterm>
<programlisting>  “current-level-time”       <link linkend="guint64"><type>guint64</type></link></programlisting>
<para>Current amount of data in the queue (in ns).</para><para>Flags: Read</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--flush-on-eos" role="property"><title>The <literal>“flush-on-eos”</literal> property</title>
<indexterm role="1.2" zone="GstQueue--flush-on-eos"><primary>GstQueue:flush-on-eos</primary></indexterm>
<programlisting>  “flush-on-eos”             <link linkend="gboolean"><type>gboolean</type></link></programlisting>
<para>Discard all data in the queue when an EOS event is received, and pass
on the EOS event as soon as possible (instead of waiting until all
buffers in the queue have been processed, which is the default behaviour).</para>
<para>Flushing the queue on EOS might be useful when capturing and encoding
from a live source, to finish up the recording quickly in cases when
the encoder is slow. Note that this might mean some data from the end of
the recording data might be lost though (never more than the configured
max. sizes though).</para>
<para>Flags: Read / Write</para>
<para>Default value: FALSE</para>
<para role="since">Since: <link linkend="api-index-1.2">1.2</link></para></refsect2>
<refsect2 id="GstQueue--leaky" role="property"><title>The <literal>“leaky”</literal> property</title>
<indexterm zone="GstQueue--leaky"><primary>GstQueue:leaky</primary></indexterm>
<programlisting>  “leaky”                    <link linkend="GstQueueLeaky"><type>GstQueueLeaky</type></link></programlisting>
<para>Where the queue leaks, if at all.</para><para>Flags: Read / Write</para>
<para>Default value: Not Leaky</para>
</refsect2>
<refsect2 id="GstQueue--max-size-buffers" role="property"><title>The <literal>“max-size-buffers”</literal> property</title>
<indexterm zone="GstQueue--max-size-buffers"><primary>GstQueue:max-size-buffers</primary></indexterm>
<programlisting>  “max-size-buffers”         <link linkend="guint"><type>guint</type></link></programlisting>
<para>Max. number of buffers in the queue (0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 200</para>
</refsect2>
<refsect2 id="GstQueue--max-size-bytes" role="property"><title>The <literal>“max-size-bytes”</literal> property</title>
<indexterm zone="GstQueue--max-size-bytes"><primary>GstQueue:max-size-bytes</primary></indexterm>
<programlisting>  “max-size-bytes”           <link linkend="guint"><type>guint</type></link></programlisting>
<para>Max. amount of data in the queue (bytes, 0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 10485760</para>
</refsect2>
<refsect2 id="GstQueue--max-size-time" role="property"><title>The <literal>“max-size-time”</literal> property</title>
<indexterm zone="GstQueue--max-size-time"><primary>GstQueue:max-size-time</primary></indexterm>
<programlisting>  “max-size-time”            <link linkend="guint64"><type>guint64</type></link></programlisting>
<para>Max. amount of data in the queue (in ns, 0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 1000000000</para>
</refsect2>
<refsect2 id="GstQueue--min-threshold-buffers" role="property"><title>The <literal>“min-threshold-buffers”</literal> property</title>
<indexterm zone="GstQueue--min-threshold-buffers"><primary>GstQueue:min-threshold-buffers</primary></indexterm>
<programlisting>  “min-threshold-buffers”    <link linkend="guint"><type>guint</type></link></programlisting>
<para>Min. number of buffers in the queue to allow reading (0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--min-threshold-bytes" role="property"><title>The <literal>“min-threshold-bytes”</literal> property</title>
<indexterm zone="GstQueue--min-threshold-bytes"><primary>GstQueue:min-threshold-bytes</primary></indexterm>
<programlisting>  “min-threshold-bytes”      <link linkend="guint"><type>guint</type></link></programlisting>
<para>Min. amount of data in the queue to allow reading (bytes, 0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--min-threshold-time" role="property"><title>The <literal>“min-threshold-time”</literal> property</title>
<indexterm zone="GstQueue--min-threshold-time"><primary>GstQueue:min-threshold-time</primary></indexterm>
<programlisting>  “min-threshold-time”       <link linkend="guint64"><type>guint64</type></link></programlisting>
<para>Min. amount of data in the queue to allow reading (in ns, 0=disable).</para><para>Flags: Read / Write</para>
<para>Default value: 0</para>
</refsect2>
<refsect2 id="GstQueue--silent" role="property"><title>The <literal>“silent”</literal> property</title>
<indexterm zone="GstQueue--silent"><primary>GstQueue:silent</primary></indexterm>
<programlisting>  “silent”                   <link linkend="gboolean"><type>gboolean</type></link></programlisting>
<para>Don't emit queue signals. Makes queues more lightweight if no signals are
needed.</para>
<para>Flags: Read / Write</para>
<para>Default value: FALSE</para>
</refsect2>

</refsect1>
<refsect1 id="gstreamer-plugins-queue.signal-details" role="signals">
<title role="signals.title">Signal Details</title>
<refsect2 id="GstQueue-overrun" role="signal"><title>The <literal>“overrun”</literal> signal</title>
<indexterm zone="GstQueue-overrun"><primary>GstQueue::overrun</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
user_function (<link linkend="GstQueue"><type>GstQueue</type></link> *queue,
               <link linkend="gpointer"><type>gpointer</type></link>  user_data)</programlisting>
<para>Reports that the buffer became full (overrun).
A buffer is full if the total amount of data inside it (num-buffers, time,
size) is higher than the boundary values which can be set through the
GObject properties.</para>
<refsect3 id="GstQueue-overrun.parameters" role="parameters">
<title>Parameters</title>
<informaltable frame="none" pgwide="1" role="parameters_table">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>queue</para></entry>
<entry role="parameter_description"><para>the queue instance</para></entry>
<entry role="parameter_annotations"/></row>
<row><entry role="parameter_name"><simpara>user_data</simpara></entry>
<entry role="parameter_description"><simpara>user data set when the signal handler was connected.</simpara></entry>
<entry role="parameter_annotations"/></row>
</tbody></tgroup></informaltable>
</refsect3><para>Flags: <link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></para>
</refsect2><refsect2 id="GstQueue-pushing" role="signal"><title>The <literal>“pushing”</literal> signal</title>
<indexterm zone="GstQueue-pushing"><primary>GstQueue::pushing</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
user_function (<link linkend="GstQueue"><type>GstQueue</type></link> *queue,
               <link linkend="gpointer"><type>gpointer</type></link>  user_data)</programlisting>
<para>Reports when the queue has enough data to start pushing data again on the
source pad.</para>
<refsect3 id="GstQueue-pushing.parameters" role="parameters">
<title>Parameters</title>
<informaltable frame="none" pgwide="1" role="parameters_table">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>queue</para></entry>
<entry role="parameter_description"><para>the queue instance</para></entry>
<entry role="parameter_annotations"/></row>
<row><entry role="parameter_name"><simpara>user_data</simpara></entry>
<entry role="parameter_description"><simpara>user data set when the signal handler was connected.</simpara></entry>
<entry role="parameter_annotations"/></row>
</tbody></tgroup></informaltable>
</refsect3><para>Flags: <link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></para>
</refsect2><refsect2 id="GstQueue-running" role="signal"><title>The <literal>“running”</literal> signal</title>
<indexterm zone="GstQueue-running"><primary>GstQueue::running</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
user_function (<link linkend="GstQueue"><type>GstQueue</type></link> *queue,
               <link linkend="gpointer"><type>gpointer</type></link>  user_data)</programlisting>
<para>Reports that enough (min-threshold) data is in the queue. Use this signal
together with the underrun signal to pause the pipeline on underrun and
wait for the queue to fill-up before resume playback.</para>
<refsect3 id="GstQueue-running.parameters" role="parameters">
<title>Parameters</title>
<informaltable frame="none" pgwide="1" role="parameters_table">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>queue</para></entry>
<entry role="parameter_description"><para>the queue instance</para></entry>
<entry role="parameter_annotations"/></row>
<row><entry role="parameter_name"><simpara>user_data</simpara></entry>
<entry role="parameter_description"><simpara>user data set when the signal handler was connected.</simpara></entry>
<entry role="parameter_annotations"/></row>
</tbody></tgroup></informaltable>
</refsect3><para>Flags: <link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></para>
</refsect2><refsect2 id="GstQueue-underrun" role="signal"><title>The <literal>“underrun”</literal> signal</title>
<indexterm zone="GstQueue-underrun"><primary>GstQueue::underrun</primary></indexterm>
<programlisting language="C"><link linkend="void"><returnvalue>void</returnvalue></link>
user_function (<link linkend="GstQueue"><type>GstQueue</type></link> *queue,
               <link linkend="gpointer"><type>gpointer</type></link>  user_data)</programlisting>
<para>Reports that the buffer became empty (underrun).
A buffer is empty if the total amount of data inside it (num-buffers, time,
size) is lower than the boundary values which can be set through the
GObject properties.</para>
<refsect3 id="GstQueue-underrun.parameters" role="parameters">
<title>Parameters</title>
<informaltable frame="none" pgwide="1" role="parameters_table">
<tgroup cols="3">
<colspec colname="parameters_name" colwidth="150px"/>
<colspec colname="parameters_description"/>
<colspec colname="parameters_annotations" colwidth="200px"/>
<tbody>
<row><entry role="parameter_name"><para>queue</para></entry>
<entry role="parameter_description"><para>the queue instance</para></entry>
<entry role="parameter_annotations"/></row>
<row><entry role="parameter_name"><simpara>user_data</simpara></entry>
<entry role="parameter_description"><simpara>user data set when the signal handler was connected.</simpara></entry>
<entry role="parameter_annotations"/></row>
</tbody></tgroup></informaltable>
</refsect3><para>Flags: <link linkend="G-SIGNAL-RUN-FIRST:CAPS">Run First</link></para>
</refsect2>
</refsect1>

</refentry>